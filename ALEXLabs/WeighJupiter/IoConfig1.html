<!DOCTYPE html>
<html>
<link rel="stylesheet" href="../ALEX.css">

<meta http-equiv='cache-control' content='no-cache'> 
<meta http-equiv='expires' content='0'> 
<meta http-equiv='pragma' content='no-cache'>

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<head>
<style>
body {
  background-image:url('Jupiter.jpeg');
  background-size:cover;
  background-attachment: fixed; 
  background-size:fill; 
}
* {
  box-sizing:border-box;
}

.column {
  float:left;
  width:50%;
}

.row:after {
  contents: "";
  display: table;
  clear: both;
}

img {
  width:85%;
  height:85%;
}


input {
  background-color:powderblue;
  border: 0.05vw solid darkblue;
  border-radius:16px;
  color:darkblue;
  padding:0.5vw;
  font-size:min(max(14pt, 2vw), 20pt);
}

input:hover {
  transition:0.25s;
  transform:scale(1.005);
  background-color:darkblue;
  color:powderblue;
  margin-left:0px;
  margin-right:0px;
}

input:not(:hover) {
  transition:0.5s;
  transform:scale(1);
  border: 0.05vw solid darkblue;
  color:darkblue;
}

img {
  border-radius:15px;
}

h2 {
  color:darkblue;
}

</style>

<script>
function backButton() {
  window.open("YouCanWeighJupiter.html","_self");
}
function reselectMoon() {
  window.open("moonSelector1.html","_self");
}
</script>

</head>

<header>
<button class = "button biggerButton" onclick="backButton()">Main Menu</button>
<button class = "button biggerButton" onclick="reselectMoon()">Reselect Moon</button>
</header>

<body>
<form name = "converter">
<div class="body">

  <h2>Time elapsed: <span id="demo">0 </span> Hours <span id="counter" style="opacity:0;">0</span></h2>
 
  <img id="theImage" src="./Jupiter/Io/IoConfig1-page-003.jpg" class="center"/> <br>

  <input type="button" onclick="next()" class="FoB" value="Next Frame"/>
  <input type="button" onclick="back()" class="FoB" value="Back One Frame"/>
  <input type="button" onclick="toggleGrid()" value="Toggle Grid"/>

  
<script>

var TIME_PER_FRAME = 2.5;
var NUMBER_OF_FRAMES = 18;

function next() {
  var timePerFrame = TIME_PER_FRAME;
  var image = document.getElementById("theImage");
  var imageName = document.getElementById("theImage").getAttribute("src");
  var textNoExt = imageName.replace(".jpg",'');
  var loc = textNoExt.search("-page-");
  var oldString = textNoExt.slice(loc+6);
  var newVal = parseInt(textNoExt.slice(loc+6)) + 1;
  var counter = parseInt(document.getElementById("counter").innerHTML);
  var newString = "";
  if (newVal > NUMBER_OF_FRAMES) {
    var newVal = 1;
  }
  if (newVal < 10) {
    var newString = String(0) + String(0) + newVal;
  } else {
    var newString = String(0) + newVal;
  }
  imageName = imageName.replace(oldString,newString);
  document.getElementById("theImage").src = imageName;
  var counter = counter + 1;
  var Hours = (counter) * timePerFrame;
  document.getElementById("counter").innerHTML = counter;
  document.getElementById("demo").innerHTML = Hours;
}

function back() {
  var timePerFrame = TIME_PER_FRAME;
  var image = document.getElementById("theImage");
  var imageName = document.getElementById("theImage").getAttribute("src");
  var textNoExt = imageName.replace(".jpg",'');
  var loc = textNoExt.search("-page-");
  var oldString = textNoExt.slice(loc+6);
  var newVal = parseInt( textNoExt.slice(loc+6) ) - 1;
  if (newVal == 0) {
    var newVal = NUMBER_OF_FRAMES;
  }
  var counter = parseInt(document.getElementById("counter").innerHTML);
  var newString = "";
  if (newVal > NUMBER_OF_FRAMES) {
    var newVal = 1;
  }
  if (newVal < 10) {
    var newString = String(0) + String(0) + newVal;
  } else {
    var newString = String(0) + newVal;
  }
  imageName = imageName.replace(oldString,newString);
  var counter = counter - 1;
  if (counter < 0) {
    return ;
  }
  var Hours = (counter) * timePerFrame;
  document.getElementById("theImage").src = imageName;
  document.getElementById("counter").innerHTML = counter;
  document.getElementById("demo").innerHTML = Hours;  
}

function toggleGrid() {
  var image = document.getElementById("theImage").getAttribute("src");

  var position = image.search("Grid");
 
  let fig = image.search("fig");

  if (position == -1) {
    var result = image.slice(0, fig+4) + "Grid" + image.slice(fig+4);
  } else {
    var result = image.replace("Grid","");
  }
  document.getElementById("theImage").src = result;

}

</script>

</form>


</body>

</html>
